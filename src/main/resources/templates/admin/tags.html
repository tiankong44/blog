<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>后台管理</title>
    <link rel="stylesheet" type="text/css"
          th:href="@{/lib/layui/css/layui.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    <!--加载meta IE兼容文件--
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class="lay-blog">
<!--导航栏-->
<div class="header">
    <div class="header-wrap ">
        <div class="layui-row">
            <div class="layui-col-md12" align="center">
                <ul class="layui-nav  " lay-filter=""
                    style="padding-top: 10px; padding-bottom: 10px; background-color: #000000">
                    <li class="layui-nav-item  "><a th:href="@{/admin/blogs}"
                                                    class="my-text-nav" style="color: #05de1b">后台管理</a></li>
                    <li class="layui-nav-item  "><a th:href="@{/admin/blogs}"
                                                    class="my-text"><i class="layui-icon layui-icon-home "
                                                                       style="padding-right: 3px"></i>博客管理</a></li>


                    <li class="layui-nav-item layui-this"><a th:href="@{/admin/tags}"
                                                             class="my-text"><i class="layui-icon layui-icon-note"></i>
                        标签管理</a>
                    </li>
                    <li class="layui-nav-item"><a th:href="@{/admin/album}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>相册管理</a></li>
                    <li class="layui-nav-item"><a th:href="@{/admin/gallery}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>图床管理</a></li>

                    <li class="layui-nav-item pull-right"><a class="my-text"><img
                            th:src="${session.avatar}"
                            class="layui-nav-img">
                        <span th:text="${session.username}"></span>
                    </a>
                        <dl class="layui-nav-child">

                            <dd>
                                <a th:href="@{/admin/logout}">注销</a>
                            </dd>
                        </dl>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- 中间内容 -->


<div class="layui-fluid">
    <div class="layui-row">
        <div class="layui-col-md2 " style="opacity: 0">1</div>
        <div class="layui-col-md8" style="padding: 0 0px 10px 0px">

            <div class="layui-card">

                <div class="layui-card-body">
						<span class="layui-breadcrumb">
						<a th:href="@{/admin/tags}" style="font-size: 16px">列表</a>
							<a th:href="@{/admin/tags-input}" style="font-size: 16px">新增</a>

						</span>
                    <!-- 列表页面 -->
                    <div class="message layui-hide" th:if="${#httpServletRequest.getParameter('message')}!=null"
                         th:text="${#httpServletRequest.getParameter('message')}" align="center"
                         th:value="${#httpServletRequest.getParameter('message')}">

                    </div>
                    <!-- 搜索框 -->
                    <div class="layui-card ">

                        <div class="layui-card-body">
                            <!--th:action="@{/admin/gallery/search}" method="post"-->
                            <form class="layui-form" th:action="@{/admin/tags/search}" method="post">
                                <input type="hidden" name="pageInfo">
                                <div class="layui-form-item">
                                    <div class="layui-inline">
                                        <label class="layui-form-label">标签名</label>
                                        <div class="layui-input-inline">
                                            <input type="text" name="tagName"
                                                   autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-inline">
                                        <div class="layui-input-block">
                                            <button class="layui-btn" type="submit" id="search-btn">
                                                <i class="layui-icon layui-icon-search"></i> 搜索
                                            </button>

                                        </div>
                                    </div>
                                </div>

                            </form>


                        </div>
                    </div>
                    <!-- 表格区域 -->
                    <div class="layui-card ">

                        <div class="layui-card-body" id="table-container">
                            <table class="layui-table">
                                <colgroup>
                                    <col width="15">
                                    <col width="200">
                                    <col>
                                </colgroup>
                                <thead>
                                <tr>
                                    <th style="width: 20px">id</th>
                                    <th>标签名</th>

                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>


                                <tr th:each="tag:${pageInfo.list}" th:unless="${tag.id}==0">
                                    <th th:text="${tag.id}">1</th>
                                    <td th:text="${tag.name}">个人博客系统</td>


                                    <th>

                                        <a class="layui-btn layui-btn-sm layui-btn"
                                           th:href="@{/admin/tags/{id}/input(id=${tag.id})}">编辑</a>
                                        <a class="layui-btn layui-btn-sm layui-btn-danger"
                                           th:href="@{/admin/tags/{id}/delete(id=${tag.id})}"
                                           onclick="return confirm('您确定要删除吗？')">删除</a>
                                    </th>
                                </tr>

                                </tbody>
                                <tfoot>
                                <tr>
                                    <th colspan="3" th:if="${pageInfo.pages}>1">
                                        <div class="layui-btn-group" style="padding-left: 50px">

                                            <a th:href="@{/admin/tags}">
                                                <button type="button" class="layui-btn layui-btn-primary"
                                                        style="color: #6f9">首页
                                                </button>
                                            </a>
                                            <a th:href="@{/admin/tags(pageNum=${pageInfo.hasPreviousPage}?${pageInfo.prePage}:1)}">
                                                <button type="button" class="layui-btn layui-btn-primary"
                                                        style="color: #6f9">上一页
                                                </button>
                                            </a>
                                            <a th:href="@{/admin/tags(pageNum=${pageInfo.hasNextPage}?${pageInfo.nextPage}:${pageInfo.pages})}">
                                                <button type="button" class="layui-btn layui-btn-primary"
                                                        style="color: #6f9">下一页
                                                </button>
                                            </a>


                                            <a th:href="@{/admin/tags(pageNum=${pageInfo.pages})}">
                                                <button type="button" class="layui-btn layui-btn-primary"
                                                        style="color: #6f9">尾页
                                                </button>
                                            </a>
                                        </div>
                                        <span> <p>当前第<span th:text="${pageInfo.pageNum}"></span>页，总<span
                                                th:text="${pageInfo.pages}"></span>页，共<span
                                                th:text="${pageInfo.total}"></span>条记录</p></span>

                                    </th>

                                </tr>

                                </tfoot>
                            </table>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md2 " style="opacity: 0">1</div>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>


<!-- footer -->
<div class="footer" style="background-color: #000000">
    <p>
        <span>&copy; 2020</span> <span><a href="http://127.0.0.1:8080"
                                          target="_blank">tiankong44</a></span> <span>hello world</span>
    </p>
    <p>
        <span>人生就是一场修行</span>
    </p>
</div>
<script type="text/javascript" src="../static/lib/layui/layui.js"
        th:src="@{/lib/layui/layui.js}"></script>
<script>
    layui
        .use(
            ['element', 'carousel', 'laypage', 'layer', 'jquery',
                'util'],
            function () {
                var element = layui.element;
                var carousel = layui.carousel;
                var laypage = layui.laypage;
                var layer = layui.layer;
                var $ = layui.$;
                var util = layui.util;

               var message = $('.message').attr("value");
               console.log(message);
               if (typeof (message) != "undefined") {
                 layer.msg(message);
              }

                //监听导航点击
                element.on('nav(demo)', function (elem) {
                    //console.log(elem)
                    layer.msg(elem.text());
                });


                util.fixbar({
                    bar1: '<i class="layui-icon layui-icon-edit" style="font-size: 30px;"></i>',
                    click: function (type) {
                        console.log(type);
                        if (type === 'bar1') {
                            window.open('/message');
                        }
                    }
                });
            });










</script>
</body>
</html>