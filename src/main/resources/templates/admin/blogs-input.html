<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>后台管理</title>
    <link rel="stylesheet" type="text/css"
          th:href="@{/lib/layui/css/layui.css}">
    <link rel="stylesheet" href="easyeditor/css/easyeditor.css"
          th:href="@{/lib/easyeditor/css/easyeditor.css}">
    <link rel="stylesheet" type="text/css"
          th:href="@{/css/font_1531710_xb357ub1wmg.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    <!--加载meta IE兼容文件--
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class="lay-blog">
<!--导航栏-->
<div class="header">
    <div class="header-wrap ">
        <div class="layui-row">
            <div class="layui-col-md12" align="center">
                <ul class="layui-nav  " lay-filter=""
                    style="padding-top: 10px; padding-bottom: 10px;  background-color: #000000">
                    <li class="layui-nav-item  "><a th:href="@{/admin/blogs}"
                                                    class="my-text-nav" style="color: #05de1b">后台管理</a></li>
                    <li class="layui-nav-item layui-this "><a th:href="@{/admin/blogs}"
                                                              class="my-text"><i class="layui-icon layui-icon-home "
                                                                                 style="padding-right: 3px"></i>博客管理</a>
                    </li>


                    <li class="layui-nav-item "><a th:href="@{/admin/tags}"
                                                   class="my-text"><i class="layui-icon layui-icon-note"></i> 标签管理</a>
                    </li>

                    <li class="layui-nav-item"><a th:href="@{/admin/album}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>相册管理</a></li>
                    <li class="layui-nav-item"><a th:href="@{/admin/gallery}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>图床管理</a></li>

                    <li class="layui-nav-item pull-right"><a class="my-text"><img
                            th:src="${session.avatar}"
                            class="layui-nav-img">
                        <span th:text="${session.username}"></span>
                    </a>
                        <dl class="layui-nav-child">
                            <dd>
                                <a th:href="@{/admin/logout}">注销</a>
                            </dd>
                        </dl>
                    </li>


                </ul>
            </div>
        </div>
    </div>
</div>
<!-- 中间内容 -->


<div class="layui-fluid">

    <div class="layui-row">
        <div class="layui-col-md2 " style="opacity: 0">1</div>
        <div class="layui-col-md8" style="padding: 0 0px 10px 0px">
            <div class="layui-card">

                <div class="layui-card-body">
						<span class="layui-breadcrumb"> <a th:href="@{/admin/blogs}" style="font-size: 16px">列表</a>
							<a th:href="@{/admin/blogs/blogs-input}" style="font-size: 16px">发布</a>

						</span>


                    <!-- 搜索框 -->


                    <!-- 表格区域 -->


                </div>
                <!--发布页面 -->

                <div class="layui-row">
                    <div class="layui-col-md12" >

                        <div class="layui-card">

                            <div class="layui-card-body ">

                                <form class="layui-form layui-form-pane" th:action="@{/admin/blogs/save}"
                                      th:method="post">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">标题</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="title" required
                                                   lay-verify="required" placeholder="标题" autocomplete="off"
                                                   class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">首图</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="firstPic" required
                                                   lay-verify="required" placeholder="首图地址" autocomplete="off"
                                                   class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item ">

                                        <div class="layui-input-block">

												<textarea id="L_content" name="content" style="" required
                                                          lay-verify="required" placeholder="请输入发表内容"
                                                          class="layui-textarea editor"></textarea>

                                        </div>
                                    </div>

                                    <div class="layui-form-item ">
                                        <label class="layui-form-label">描述</label>
                                        <div class="layui-input-block">
                                            <textarea name="desc" placeholder="请输入博客的描述" class="layui-textarea"
                                                      style="height: 50px"></textarea>
                                        </div>
                                    </div>

                                    <div class="layui-form-item layui-inline">
                                        <label class="layui-form-label">标签</label>
                                        <div class="layui-input-block">
                                            <select name="selectTagId" lay-verify="required" >
                                                <option th:each="tag :${selectTagId}" th:value="${tag.getId()}"
                                                        th:text="${tag.getName()}" ></option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                            <input type="checkbox" name="appreciation" title="赞赏" checked>
                                            <input type="checkbox" name="recommend" title="推荐" checked="checked">
                                            <input type="checkbox" name="commentabled" title="评论"
                                                   checked="checked"><input type="checkbox" name="published" title="发布"
                                                                            checked="checked">
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <div class="layui-input-block pull-right">
                                            <button class="layui-btn" lay-submit lay-filter="formDemo">提交</button>

                                        </div>
                                    </div>
                                </form>


                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md2 " style="opacity: 0">1</div>
    </div>
</div>
</div>

<br>
<br>
<br>
<br>
<br>


<!-- footer -->
<div class="footer" style="background-color: #000000">
    <p>
        <span>&copy; 2020</span> <span><a href="http://127.0.0.1:8080"
                                          target="_blank">tiankong44</a></span> <span>hello world</span>
    </p>
    <p>
        <span>人生就是一场修行</span>
    </p>
</div>
<script src="easyeditor/js/marked.min.js"
        th:src="@{/lib/easyeditor/js/marked.min.js}" type="text/javascript"
        charset="utf-8"></script>
<script type="text/javascript" src="../static/lib/layui/layui.js"
        th:src="@{/lib/layui/layui.js}"></script>


<script>
    layui.config({
            base: '/lib/easyeditor/mods/' //存放layui拓展模块的目录位置
        })
        .extend({
            easyeditor: 'easyeditor'
        }).use(
            ['element', 'carousel', 'laypage', 'layer', 'util',
                'layedit','easyeditor'],
            function () {
                var element = layui.element;
                var carousel = layui.carousel;
                var laypage = layui.laypage;
                var layer = layui.layer;

                var util = layui.util;
                var layedit = layui.layedit;
                var easyeditor = layui.easyeditor;
                //markdown本编辑器
                laypage.render({
                    elem: 'page',
                    count: 100,
                    layout: ['count', 'prev', 'page', 'next',
                        'limit', 'refresh', 'skip'],
                    jump: function (obj) {
                        console.log(obj)
                    }
                });
                //初始化Markdown编辑器
                easyeditor.init({
                    elem: '.editor' //textarea 元素class
                    ,
                    uploadUrl: '[[@{/admin/blogImgInsert}]]' //图片上传地址
                    ,
                    videoUploadUrl: '[[@{/admin/blogImgInsert}]]' //视频上传地址
                    ,
                    videoUploadSize: '10240000' //限制的上传大小 单位kb 默认 10240 kb
                    ,
                    uploadSize: '10240000' //限制的上传大小 单位kb 默认 1024k
                    //,codeSkin:'notepad' //代码框样式 默认不填 与notepad
                    //,style:'fange' //内置样式  目前只有默认 和 方格两种
                    //,buttonColor:'#FFB800' //自定义按钮颜色
                    //,hoverBgColor:'red'  // 自定义鼠标悬浮背景颜色
                    //,hoverColor:'#000000' // 自定义鼠标悬浮按钮颜色
                });
                //upload 接口要求返回的数据格式
                // 				{
                // 					code:0   ,//code=0代表文件保存成功 其他code值 则认为失败
                // 					msg:'图片保存失败' ,//搭配code使用 当code不等于 0 时,做出提示信息
                // 					url:'http://xxx.com/images/xxx.jpg' //图片上传成功后,图片的访问路径/保存路径,使用图片全路径
                // 				}
                //监听导航点击
                element.on('nav(demo)', function (elem) {
                    //console.log(elem)
                    layer.msg(elem.text());
                });

                util.fixbar({

                    });
            });
</script>
</body>
</html>