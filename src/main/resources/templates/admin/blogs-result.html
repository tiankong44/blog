<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>后台管理</title>
    <link rel="stylesheet" type="text/css"
          th:href="@{/lib/layui/css/layui.css}">
    <link rel="stylesheet" type="text/css"
          th:href="@{/css/font_1531710_xb357ub1wmg.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    <!--加载meta IE兼容文件--
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class="lay-blog">
<!--导航栏-->
<div class="header">
    <div class="header-wrap ">
        <div class="layui-row">
            <div class="layui-col-md12" align="center">
                <ul class="layui-nav  " lay-filter=""
                    style="padding-top: 10px; padding-bottom: 10px;  background-color: #000000">
                    <li class="layui-nav-item  "><a th:href="@{/admin/blogs}"
                                                    class="my-text-nav" style="color: #05de1b">后台管理</a></li>
                    <li class="layui-nav-item layui-this "><a th:href="@{/admin/blogs}"
                                                              class="my-text"><i class="layui-icon layui-icon-home "
                                                                                 style="padding-right: 3px"></i>博客管理</a>
                    </li>


                    <li class="layui-nav-item "><a th:href="@{/admin/tags}"
                                                   class="my-text"><i class="layui-icon layui-icon-note"></i> 标签管理</a>
                    </li>

                    <li class="layui-nav-item"><a th:href="@{/admin/album}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>相册管理</a></li>
                    <li class="layui-nav-item"><a th:href="@{/admin/gallery}"
                                                  class="my-text"><i class="layui-icon layui-icon-picture"
                                                                     style="padding-right: 3px"></i>图床管理</a></li>

                    <li class="layui-nav-item pull-right"><a class="my-text" ><img
                            th:src="${session.avatar}"
                            class="layui-nav-img">
                        <span th:text="${session.username}"></span>
                    </a>
                        <dl class="layui-nav-child">
                            <dd>
                                <a th:href="@{/admin/logout}">注销</a>
                            </dd>
                        </dl>
                    </li>


                </ul>
            </div>
        </div>
    </div>
</div>
<!-- 中间内容 -->


<div class="layui-fluid">

    <div class="layui-row">
        <div class="layui-col-md2 " style="opacity: 0">1</div>
        <div class="layui-col-md8" style="padding: 0 0px 10px 0px">
            <div class="layui-card">

                <div class="layui-card-body">
						<span class="layui-breadcrumb"> <a th:href="@{/admin/blogs}"
                                                           style="font-size: 16px">列表</a> <a
                                th:href="@{/admin/blogs/blogs-input}"
                                style="font-size: 16px">发布</a>

						</span>


                    <!-- 列表页面 -->
                    <div class="message layui-hide" th:if="${message}!=null" th:text="${message}" align="center"
                         th:value="${message}">

                    </div>
                    <!-- 搜索框 -->
                    <div class="layui-card ">

                        <div class="layui-card-body">

                            <form class="layui-form" th:action="@{/admin/blogs/search}" method="post">
                                <div class="layui-form-item layui-inline"
                                     style="margin-left: -50px">
                                    <label class="layui-form-label">标题</label>
                                    <div class="layui-input-block">
                                        <input type="text" name="title" placeholder="请输入标题"
                                               autocomplete="off" class="layui-input" th:value="${title}" >
                                    </div>
                                </div>

                                <div class="layui-form-item layui-inline">
                                    <label class="layui-form-label">标签</label>
                                    <div class="layui-input-block">
                                        <select name="selectTag">
                                            <option th:value="0" th:text="请选择"></option>
                                            <option th:each="tag :${selectTagId}" th:value="${tag.getId()}"
                                                    th:text="${tag.getName()}"></option>
                                        </select>
                                    </div>
                                </div>

                                <div class="layui-form-item layui-inline">
                                    <label class="layui-form-label">推荐</label>
                                    <div class="layui-input-block">
                                        <input type="checkbox" name="recommend" checked="checked" lay-skin="switch" th:value="${recommend}">
                                    </div>
                                </div>

                                <div class="layui-form-item layui-inline">
                                    <div class="layui-input-block">
                                        <button class="layui-btn" lay-submit lay-filter="formDemo">
                                            <i class="layui-icon layui-icon-search"></i> 搜索
                                        </button>

                                    </div>
                                </div>
                            </form>


                        </div>
                    </div>

                    <!-- 表格区域 -->
                    <div class="layui-card ">

                        <div class="layui-card-body">


                            <table class="layui-table">
                                <colgroup>
                                    <col width="200">
                                    <col width="150">
                                    <col width="80">
                                    <col width="250">
                                    <col width="200">
                                    <col width="140">
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>标题</th>
                                    <th>标签</th>
                                    <th>推荐</th>
                                    <th>描述</th>
                                    <th>更新时间</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="blog:${pageInfo.list}">
                                    <th th:text="${blog.title}">个人博客系统</th>
                                    <th th:text="${blog.showTags}"></th>
                                    <th th:switch="${blog.recommend }">
                                        <span th:case="true" th:text="是"></span> 
                                        <span th:case="false" th:text="否"></span>
                                    </th>
                                    <th th:text="${blog.description}"></th>
                                    <th th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd HH:mm:ss')}">2016-11-28
                                    </th>
                                    <td><a class="layui-btn layui-btn-sm layui-btn"
                                           th:href="@{/admin/blogs/{id}/update(id=${blog.id})}">编辑</a>
                                        <a class="layui-btn layui-btn-sm layui-btn-danger"
                                           th:href="@{/admin/blogs/{id}/delete(id=${blog.id})}"
                                           onclick="return confirm('您确定要删除吗？')">删除</a></td>
                                </tr>

                                </tbody>
                                <tfoot>
                                <tr>
                                    <th colspan="6">
                                        <div align="center" th:if="${pageInfo.pages}>1">
                                            <div class="layui-btn-group" style="padding-left: 50px" align="center">

                                                <a th:href="@{/admin/blogs/search(title=${title},selectTag=${selectTag},recommend=${recommend})}">
                                                    <button type="button" class="layui-btn layui-btn-primary"
                                                            style="color: #6f9">首页
                                                    </button>
                                                </a>
                                                <a th:href="@{/admin/blogs/search(pageNum=${pageInfo.hasPreviousPage}?${pageInfo.prePage}:1,title=${title},selectTag=${selectTag},recommend=${recommend})}">
                                                    <button type="button" class="layui-btn layui-btn-primary"
                                                            style="color: #6f9">上一页
                                                    </button>
                                                </a>

                                                <a th:href="@{/admin/blogs/search(pageNum=${pageInfo.hasNextPage}?${pageInfo.nextPage}:${pageInfo.pages},title=${title},selectTag=${selectTag},recommend=${recommend})}">
                                                    <button type="button" class="layui-btn layui-btn-primary"
                                                            style="color: #6f9">下一页
                                                    </button>
                                                </a>


                                                <a th:href="@{/admin/blogs/search(pageNum=${pageInfo.pages},title=${title},selectTag=${selectTag},recommend=${recommend})}">
                                                    <button type="button" class="layui-btn layui-btn-primary"
                                                            style="color: #6f9">尾页
                                                    </button>
                                                </a>
                                            </div>
                                            <div align="center"
                                                 style="font-size: 15px;opacity: 0.7">  <span> <p>当前第<span
                                                    th:text="${pageInfo.pageNum}"></span>页，总<span
                                                    th:text="${pageInfo.pages}"></span>页，共<span
                                                    th:text="${pageInfo.total}"></span>条记录</p></span></div>
                                        </div>
                                    </th>

                                </tr>

                                </tfoot>
                            </table>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>  <br>
                            <br>
                            <br>
                            <br>
                            <br>
                        </div>

                    </div>

                </div>
                <!--发布页面 -->

            </div>
        </div>
        <div class="layui-col-md2 " style="opacity: 0">1</div>
    </div>
</div>

<br>
<br>
<br>
<br>
<br>


<br>
<br>
<br>
<br>
<br>




<!-- footer -->
<div class="footer" style="background-color: #000000">
    <p>
        <span>&copy; 2020</span> <span><a href="http://127.0.0.1:8080"
                                          target="_blank">tiankong44</a></span> <span>hello world</span>
    </p>
    <p>
        <span>人生就是一场修行</span>
    </p>
</div>

<script type="text/javascript" src="../static/lib/layui/layui.js"
        th:src="@{/lib/layui/layui.js}"></script>


<script>
    layui.use(
        ['element', 'carousel', 'layer', 'util', 'form', 'jquery'],
        function () {
            var form = layui.form
            var element = layui.element;
            var carousel = layui.carousel;

            var layer = layui.layer;

            var util = layui.util;
            var $ = layui.jquery;


            var message = $('.message').attr("value");
            console.log(message);
            if (typeof (message) != "undefined") {
                layer.msg(message);
            }


            //var message = $('.message').attr("value")
            //console.log(message);
            //  layer.msg(message);
            //监听导航点击
            element.on('nav(demo)', function (elem) {
                //console.log(elem)
                layer.msg(elem.text());
            });

            util.fixbar({

                });
        });
</script>
</body>
</html>